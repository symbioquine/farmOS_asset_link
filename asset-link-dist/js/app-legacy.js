(function(){var e={1319:function(e,t,n){"use strict";n(6992),n(8674),n(9601),n(7727),n(1249),n(1539),n(3948);var r=n(538),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{width:"100vw",height:"100vh",position:"fixed",top:"0px",left:"0px"},attrs:{"data-vuetify":""}},[n("v-app",[n("farmos-sync-tray",{ref:"syncTray"}),n("v-app-bar",{attrs:{color:"green darken-2",dense:"",app:""}},[n("v-toolbar-title",[e._v("Asset Link")]),n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.$refs.syncTray.toggle()}}},[n("farmos-sync-icon")],1),e.configActionDefs.length?n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,s=t.attrs;return[n("v-btn",e._g(e._b({attrs:{icon:""}},"v-btn",s,!1),r),[n("v-icon",[e._v("mdi-cog")])],1)]}}],null,!1,3233110190)},[n("v-list",[e._l(e.configActionDefs,(function(e){return[n("render-fn-wrapper",{key:e.id,attrs:{"render-fn":e.componentFn}})]}))],2)],1):e._e(),n("v-btn",{attrs:{icon:""},on:{click:function(t){e.assetSearchDialogMode="text-search"}}},[n("v-icon",[e._v("mdi-magnify")])],1),n("v-btn",{attrs:{icon:""},on:{click:function(t){e.assetSearchDialogMode="scan-qr-code"}}},[n("v-icon",[e._v("mdi-qrcode-scan")])],1),e.metaActionDefs.length?n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,s=t.attrs;return[n("v-btn",e._g(e._b({attrs:{icon:""}},"v-btn",s,!1),r),[n("v-icon",[e._v("mdi-dots-vertical")])],1)]}}],null,!1,3221905750)},[n("v-list",[e._l(e.metaActionDefs,(function(e){return[n("render-fn-wrapper",{key:e.id,attrs:{"render-fn":e.componentFn}})]}))],2)],1):e._e()],1),e.assetLink.viewModel.booted?n("v-main",[n("v-container",{attrs:{fluid:""}},[n("router-view",{on:{"expose-meta-actions":function(t){e.metaActionDefs=t}}})],1)],1):e._e(),e._l(e.assetLink.viewModel.messages,(function(t){return n("v-alert",{key:t.id,staticClass:"mx-4",attrs:{border:"left","close-text":"Close Alert",dismissible:"",type:t.type},model:{value:t.dismissed,callback:function(n){e.$set(t,"dismissed",n)},expression:"message.dismissed"}},[e._v(" "+e._s(t.text)+" ")])})),e._l(e.dialogs,(function(e){return n("div",{key:e.id},[n("dialog-wrapper",{attrs:{"dialog-def":e}})],1)})),n("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},on:{input:function(t){e.assetSearchDialogMode=void 0}},model:{value:e.assetSearchDialogShown,callback:function(t){e.assetSearchDialogShown=t},expression:"assetSearchDialogShown"}},[e.assetSearchDialogMode?n("asset-selector",{attrs:{title:"Find Asset","confirm-label":"View asset(s)","search-method":e.assetSearchDialogMode},on:{submit:function(t){return e.onAssetSelected(t)}}}):e._e()],1),n("v-overlay",{attrs:{value:e.assetLink.viewModel.bootProgress<100,color:"#E0E0E0",opacity:1}},[n("v-container",[n("v-row",{staticClass:"py-4"},[n("v-spacer"),n("v-col",[n("v-progress-circular",{attrs:{value:e.assetLink.viewModel.bootProgress,color:"#2E7D32",rotate:-90,size:100,width:10}},[e._v(" "+e._s(e.assetLink.viewModel.bootProgress)+"% ")])],1),n("v-spacer")],1),n("v-row",{staticClass:"py-4"},[n("v-col",[n("div",[e._v(e._s(e.assetLink.viewModel.bootText))])])],1)],1)],1)],2)],1)},i=[],o=(n(8309),n(7251)),a=n(6198),c=n(6133),u=n(2751),l=(n(3371),n(5666),function(){function e(t){(0,c.Z)(this,e),this.delegate=t}return(0,u.Z)(e,[{key:"app",get:function(){return this.delegate().app}},{key:"viewModel",get:function(){return this.delegate().viewModel}},{key:"ui",get:function(){return this.delegate().ui}},{key:"util",get:function(){return this.delegate().util}},{key:"cores",get:function(){return this.delegate().cores}},{key:"entitySource",get:function(){return this.delegate().memory}},{key:"remoteEntitySource",get:function(){return this.delegate().remote}},{key:"booted",get:function(){return this.delegate().booted}},{key:"plugins",get:function(){return this.delegate().plugins}},{key:"boot",value:function(){var e=(0,a.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.delegate().boot();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getEntityModel",value:function(){var e=(0,a.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.delegate().getEntityModel(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"registerPlugin",value:function(e){return this.delegate().registerPlugin(e)}},{key:"defineRoute",value:function(e,t){return this.delegate().defineRoute(e,t)}},{key:"defineAction",value:function(e,t){return this.delegate().defineAction(e,t)}},{key:"defineMetaAction",value:function(e,t){return this.delegate().defineMetaAction(e,t)}},{key:"defineConfigAction",value:function(e,t){return this.delegate().defineConfigAction(e,t)}},{key:"getAssetTypes",value:function(){var e=(0,a.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.delegate().getAssetTypes();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"resolveAsset",value:function(){var e=(0,a.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.delegate().resolveAsset(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"searchAssets",value:function(e,t){return this.delegate().searchAssets(e,t)}},{key:"getRelevantActions",value:function(e){return this.delegate().getRelevantActions(e)}},{key:"getRelevantMetaActions",value:function(e){return this.delegate().getRelevantMetaActions(e)}},{key:"getRelevantConfigActions",value:function(e){return this.delegate().getRelevantConfigActions(e)}}]),e}());l.decorate=function(e){return Object.freeze(new l((function(){return e})))};var d=r.Z.component("render-fn-wrapper",{props:{renderFn:{type:Function,required:!0}},render:function(e){return this.renderFn(this,e)}}),f=d,h=n(6930),v=r.Z.component("dialog-wrapper",{props:{dialogDef:{type:Object,required:!0}},provide:function(){return{dialogContext:this.dialogDef.context}},render:function(e){return this.dialogDef.componentFn(this,e)}}),p={components:{VAlert:h.Z,RenderFnWrapper:f,DialogWrapper:v},provide:function(){return{app:this,assetLink:this.assetLink}},data:function(){return console.log(this),{assetLink:l.decorate(new o.Z(this)),metaActionDefs:[],dialogs:[],assetSearchDialogShown:!1,assetSearchDialogMode:void 0}},watch:{assetSearchDialogMode:function(e){this.assetSearchDialogShown=!!e}},methods:{onAssetSelected:function(e){console.log("onAssetSelected",e),this.assetSearchDialogMode=void 0,void 0!==e&&1===e.length&&this.$router.push("/asset/".concat(e[0].attributes.drupal_internal__id))},addRoute:function(e){this.$router.addRoute({name:e.name,path:e.path,component:f,props:{renderFn:e.componentFn}})},removeRoute:function(e){}},computed:{configActionDefs:function(){return this.assetLink.viewModel.booted?this.assetLink.getRelevantConfigActions(this.$route):[]}},created:function(){this.assetLink.boot()}},m=p,g=n(1001),y=n(3453),b=n.n(y),_=n(8044),k=n(1726),x=n(7056),w=n(2102),A=n(4228),S=n(7068),Z=n(6869),R=n(2027),L=n(9090),C=n(257),M=n(7807),E=n(2826),D=n(2877),T=n(9762),V=n(7921),O=(0,g.Z)(m,s,i,!1,null,null,null),q=O.exports;b()(O,{VAlert:h.Z,VApp:_.Z,VAppBar:k.Z,VBtn:x.Z,VCol:w.Z,VContainer:A.Z,VDialog:S.Z,VIcon:Z.Z,VList:R.Z,VMain:L.Z,VMenu:C.Z,VOverlay:M.Z,VProgressCircular:E.Z,VRow:D.Z,VSpacer:T.Z,VToolbarTitle:V.qW});var P=n(8787),I=n(8345),$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[e._v(" Hi, this is the home page!! ")])},j=[],F={name:"HomePage"},N=F,B=(0,g.Z)(N,$,j,!1,null,null,null),U=B.exports,H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"about"},[e._v(" Hi, this is the about page! ")])},G=[],W={name:"AboutPage"},z=W,Y=(0,g.Z)(z,H,G,!1,null,null,null),J=Y.exports,K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-container",{staticClass:"text-left"},[n("asset-resolver",{attrs:{"asset-ref":e.$route.params.assetRef},on:{"asset-resolved":function(t){return e.onAssetResolved(t)}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.asset;return[n("h2",[e._v("Asset: "+e._s(r.attributes.name))]),n("h3",{staticClass:"my-3"},[e._v("Actions:")]),e._l(e.getRelevantActions(r),(function(e){return n("v-row",{key:e.id,staticClass:"ml-2"},[n("action-wrapper",{staticClass:"mt-3",attrs:{"action-def":e}})],1)}))]}}])})],1)],1)},Q=[],X=r.Z.component("action-wrapper",{props:{actionDef:{type:Object,required:!0}},render:function(e){return this.actionDef.componentFn(this,e)}}),ee={routePath:"/asset/:assetRef",inject:["assetLink"],components:{ActionWrapper:X},methods:{onAssetResolved:function(e){var t=this.assetLink.getRelevantMetaActions(e);this.$emit("expose-meta-actions",t)},getRelevantActions:function(e){var t=this.assetLink.getRelevantActions(e);return t}}},te=ee,ne=(0,g.Z)(te,K,Q,!1,null,null,null),re=ne.exports;b()(ne,{VContainer:A.Z,VRow:D.Z});var se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-not-found"},[e._v(" Page not found!! ")])},ie=[],oe={name:"NotFoundPage"},ae=oe,ce=(0,g.Z)(ae,se,ie,!1,null,null,null),ue=ce.exports;r.Z.use(I.Z);var le=[{path:"/",name:"Home",component:U},{path:"/about",name:"About",component:J},{path:"/asset/:assetRef",name:"Asset",component:re},{path:"*",name:"NotFoundPage",component:ue}],de=new I.Z({mode:"history",base:"/__THIS_GETS_REPLACED_AT_RUNTIME_BY_THE_DRUPAL_CONTROLLER__/",routes:le}),fe=de,he=n(1955),ve=(n(5597),n(7879)),pe=n(6565);r.Z.config.productionTip=!1,r.Z.use(ve.Z),r.Z.use(pe.Z,{context:{vuetify:P.Z}}),window.assetLinkDrupalBasePath=he.Z.get("assetLinkDrupalBasePath");var me=n(6470);function ge(e){return e.keys().map((function(t){var n=e(t).default,s=me.basename(t,".vue");return r.Z.component(s,n),n}))}ge(n(5142)),new r.Z({vuetify:P.Z,router:fe,render:function(e){return e(q)}}).$mount("#app")},2159:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[n("v-overlay",{attrs:{value:e.isLoadingAsset,color:"#E0E0E0",opacity:1}}),e.resolvedAsset?e._t("default",null,{asset:e.resolvedAsset}):n("i",[e._v("Unknown asset '"+e._s(e.assetRef)+"'...")])],2)},s=[],i=n(6198),o=(n(5666),{props:{assetRef:{type:String,required:!0}},inject:["assetLink"],data:function(){return{self:this,isLoadingAsset:!1,refreshHandler:null}},created:function(){this.assetLink.viewModel.$on("changed:asset",this.onAssetChanged)},destroyed:function(){this.assetLink.viewModel.$off("changed:asset",this.onAssetChanged)},methods:{onAssetChanged:function(e,t){console.log("onAssetChanged",e,t);var n=this.resolvedAsset;n&&n.type===e&&n.id===t&&this.$asyncComputed.resolvedAsset.update()}},asyncComputed:{resolvedAsset:function(){var e=this;return(0,i.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoadingAsset=!0,t.prev=1,t.next=4,e.assetLink.resolveAsset(e.assetRef);case 4:return n=t.sent,e.$emit("asset-resolved",n),t.abrupt("return",n);case 9:t.prev=9,t.t0=t["catch"](1),e.assetLink.viewModel.messages.push({text:"Failed to load asset: ".concat(t.t0.message),type:"error"}),console.log(t.t0);case 13:return t.prev=13,e.isLoadingAsset=!1,t.finish(13);case 16:return t.abrupt("return",null);case 17:case"end":return t.stop()}}),t,null,[[1,9,13,16]])})))()}}}),a=o,c=n(1001),u=n(3453),l=n.n(u),d=n(7807),f=(0,c.Z)(a,r,s,!1,null,null,null),h=f.exports;l()(f,{VOverlay:d.Z})},2218:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return V}});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-title",{staticClass:"text-h5 grey lighten-2"},[e._v(" "+e._s(e.title)+" ")]),n("div",{staticClass:"text-center my-4"},[n("v-btn-toggle",{attrs:{mandatory:""},model:{value:e.currentSearchMethod,callback:function(t){e.currentSearchMethod=t},expression:"currentSearchMethod"}},[n("v-btn",{attrs:{outlined:"","x-large":"",fab:"",color:"indigo",value:"text-search"}},[n("v-icon",[e._v("mdi-keyboard-outline")])],1),n("v-btn",{attrs:{outlined:"","x-large":"",fab:"",color:"indigo",value:"scan-qr-code"}},[n("v-icon",[e._v("mdi-qrcode-scan")])],1),n("v-btn",{attrs:{outlined:"","x-large":"",fab:"",color:"indigo",value:"proximity-search"},on:{click:function(t){"proximity-search"===e.currentSearchMethod&&e.tryGetLocation()}}},[n("v-icon",[e._v(e._s("proximity-search"===e.currentSearchMethod?"mdi-map-marker-plus":"mdi-map-marker-radius"))])],1)],1)],1),"scan-qr-code"==e.currentSearchMethod?n("qr-code-scanner",{on:{"qr-code-scanned":function(t){return e.qrCodeScanned(t)},"qr-code-err":e.qrCodeErr}}):e._e(),"proximity-search"==e.currentSearchMethod?n("div",{ref:"map-div"}):e._e(),n("v-divider"),n("v-container",{attrs:{fluid:""}},[n("v-textarea",{ref:"searchInput",attrs:{loading:e.isSearchingAssets,label:e.inputLabel,placeholder:e.inputPlaceholder,"prepend-icon":"mdi-magnify",rows:"1",clearable:"",readonly:e.searchDisabled},on:{focus:function(t){e.currentSearchMethod="text-search"},input:e.onTextSearchInput},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}}),n("v-list",{attrs:{dense:""}},[e.assetLink.viewModel.connectionStatus.isOnline?n("v-subheader",[e._v("Results")]):n("v-subheader",[e._v("Offline results (May be stale/incomplete)")]),n("v-list-item-group",{attrs:{color:"primary",multiple:e.selectMultiple},model:{value:e.selectedItems,callback:function(t){e.selectedItems=t},expression:"selectedItems"}},e._l(e.searchResultEntries,(function(t,r){return n("v-list-item",{key:r},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-tree")])],1),n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:e._s(t.asset.attributes.name)}}),n("v-list-item-subtitle",{domProps:{textContent:e._s(t.weightText)}})],1)],1)})),1)],1)],1),n("v-divider"),n("v-card-actions",[n("v-btn",{attrs:{color:"normal",text:""},on:{click:function(t){return e.onCancel()}}},[e._v(" Cancel ")]),n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:"",disabled:!e.hasAssetSelection},on:{click:function(t){return e.onAccept()}}},[e._v(" "+e._s(e.confirmLabel)+" ")])],1)],1)},s=[],i=n(6133),o=n(2751),a=n(6198),c=(n(5666),n(1249),n(8862),n(2222),n(6977),n(1539),n(189),n(8783),n(3948),n(5934)),u=n(6486),l={inject:["assetLink"],props:{title:{type:String,required:!0},inputLabel:{type:String,default:"Search"},inputPlaceholder:{type:String,default:"Search Assets"},searchMethod:{type:String,default:"text-search"},selectMultiple:{type:Boolean,default:!1},confirmLabel:{type:String,default:"Choose"}},data:function(){return{currentSearchMethod:this.searchMethod,infos:[],isSearchingAssets:!1,searchText:null,searchDisabled:!1,searchRequest:null,maxDesiredSearchEntries:5,searchResultEntries:[],selectedItems:[]}},created:function(){var e=this;"text-search"===this.currentSearchMethod&&this.$nextTick((function(){setTimeout((function(){e.$refs.searchInput.$refs.input.focus()}))}))},computed:{hasAssetSelection:function(){return this.selectedItems instanceof Array?this.selectedItems.length>0:void 0!==this.selectedItems}},watch:{searchMethod:function(e){e&&(this.currentSearchMethod=e)},currentSearchMethod:function(e){var t=this;this.searchDisabled="proximity-search"===e,e&&"proximity-search"===e&&this.tryGetLocation(),"text-search"===e&&this.$nextTick((function(){setTimeout((function(){t.$refs.searchInput.$refs.input.focus()}))}))},searchRequest:function(e){console.log("search request changed: ".concat(e)),this.searchAssets()}},methods:{onCancel:function(){this.$emit("submit",void 0)},onAccept:function(){var e=this,t=this.selectedItems instanceof Array?this.selectedItems:[this.selectedItems];this.$emit("submit",t.map((function(t){return e.searchResultEntries[t].asset})))},onTextSearchInput:function(e){this.searchRequest={id:(0,c.Z)(),type:"text-search",term:e}},tryGetLocation:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){var n,r,s,i,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e,r={enableHighAccuracy:!0,maximumAge:0},t.prev=2,t.next=5,d(r);case 5:s=t.sent,t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](2),e.assetLink.viewModel.messages.push({text:"Failed to get geolocation: ".concat(t.t0.message),type:"error"}),console.log(t.t0);case 12:i={coords:{latitude:s.coords.latitude,longitude:s.coords.longitude,accuracy:s.coords.accuracy,altitude:s.coords.altitude,altitudeAccuracy:s.coords.altitudeAccuracy,heading:s.coords.heading,speed:s.coords.speed},timestamp:s.timestamp},console.log("Location acquired: ".concat(JSON.stringify(i))),o=i.coords,a="pos: ".concat(o.latitude.toFixed(6),",").concat(o.longitude.toFixed(6)," (+/-").concat(Math.round(o.accuracy,3),"m)"),n.searchText!==a&&(n.searchText=a,n.searchRequest={id:(0,c.Z)(),type:"proximity-search",coordinates:o});case 17:case"end":return t.stop()}}),t,null,[[2,8]])})))()},searchAssets:(0,u.throttle)(function(){var e=(0,a.Z)(regeneratorRuntime.mark((function e(){var t,n,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.searchRequest.id,this.isSearchingAssets=!0,n=this.assetLink.searchAssets(this.searchRequest,"local"),this.assetLink.viewModel.connectionStatus.isOnline&&(n=new f(n,this.assetLink.searchAssets(this.searchRequest,"remote"))),t===this.searchRequest.id){e.next=6;break}return e.abrupt("return");case 6:this.assetSearchResultCursor=n,this.maxDesiredSearchEntries=10,this.searchResultEntries=[],r=new Set,s={};case 11:if(!(this.searchResultEntries.length<this.maxDesiredSearchEntries)||s.done){e.next=21;break}return e.next=14,n.next();case 14:if(s=e.sent,console.log("searchIterItem:",s),t===this.searchRequest.id){e.next=18;break}return e.abrupt("return");case 18:s.value&&!r.has(s.value.asset.id)&&(r.add(s.value.asset.id),this.searchResultEntries.push(s.value)),e.next=11;break;case 21:this.isSearchingAssets=!1;case 22:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),500),qrCodeScanned:function(e){var t=this;return(0,a.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:console.log("qrCodeScanned: ".concat(e)),e!==t.searchText&&(t.searchText=e,t.searchRequest={id:(0,c.Z)(),type:"text-search",term:e});case 2:case"end":return n.stop()}}),n)})))()},qrCodeErr:function(e){console.log("Error: "+e.message+" - "+JSON.stringify(e))}}};function d(e){return new Promise((function(t,n){return navigator.geolocation.getCurrentPosition(t,n,e)}))}var f=function(){function e(t,n){(0,i.Z)(this,e),this._localDelegate=t,this._remoteDelegate=n,this._firstRemoteItemPromise=n.next(),this._localDone=!1,this._remoteReady=!1}return(0,o.Z)(e,[{key:"next",value:function(){var e=(0,a.Z)(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this._remoteReady){e.next=4;break}return e.next=3,this._remoteDelegate.next();case 3:return e.abrupt("return",e.sent);case 4:return e.next=6,h(this._firstRemoteItemPromise);case 6:if(t=e.sent,"fulfilled"!==t&&!this._localDone){e.next=12;break}return this._remoteReady=!0,e.next=11,this._firstRemoteItemPromise;case 11:return e.abrupt("return",e.sent);case 12:return e.next=14,this._localDelegate.next();case 14:return n=e.sent,n.done&&(this._localDone=!0),n.done=!1,e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();function h(e){var t={};return Promise.race([e,t]).then((function(e){return e===t?"pending":"fulfilled"}),(function(){return"rejected"}))}var v=l,p=n(1001),m=n(3453),g=n.n(m),y=n(7056),b=n(11),_=n(2371),k=n(7118),x=n(4228),w=n(3102),A=n(6869),S=n(2027),Z=n(4462),R=n(6619),L=n(5435),C=n(459),M=n(9762),E=n(7831),D=n(4473),T=(0,p.Z)(v,r,s,!1,null,null,null),V=T.exports;g()(T,{VBtn:y.Z,VBtnToggle:b.Z,VCard:_.Z,VCardActions:k.h7,VCardTitle:k.EB,VContainer:x.Z,VDivider:w.Z,VIcon:A.Z,VList:S.Z,VListItem:Z.Z,VListItemContent:R.km,VListItemGroup:L.Z,VListItemIcon:C.Z,VListItemSubtitle:R.oZ,VListItemTitle:R.V9,VSpacer:M.Z,VSubheader:E.Z,VTextarea:D.Z})},8926:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r,s,i=n(8939),o=n(6869),a={props:{dataAge:{type:String,default:""}},inject:["assetLink"],render:function(e){var t=this.assetLink.viewModel.connectionStatus,n=function(){return t.hasNetworkConnection?t.canReachFarmOS?t.isLoggedIn?"mdi-cloud-sync":"mdi-cloud-lock":"mdi-cloud-alert":"mdi-cloud-off-outline"},r=n();return this.assetLink.viewModel.pendingUpdates.length>0?e(i.Z,{props:{color:"red",content:this.assetLink.viewModel.pendingUpdates.length,offsetX:10,offsetY:10}},[e(o.Z,r)]):e(o.Z,r)}},c=a,u=n(1001),l=(0,u.Z)(c,r,s,!1,null,null,null),d=l.exports},2509:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-navigation-drawer",{attrs:{absolute:"",temporary:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[e._v("Sync Status")])],1)],1),n("v-divider"),e.assetLink.viewModel.pendingUpdates.length>0?n("v-list",{attrs:{dense:""}},e._l(e.assetLink.viewModel.pendingUpdates,(function(t){return n("v-list-item",{key:t.data.id,attrs:{link:""}},[n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t.data.options.label))])],1)],1)})),1):n("v-list",[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[n("i",[e._v("Nothing to synchronize...")])])],1)],1)],1)],1)},s=[],i={inject:["assetLink"],data:function(){return{drawer:null}},methods:{toggle:function(){this.drawer=!this.drawer}}},o=i,a=n(1001),c=n(3453),u=n.n(c),l=n(3102),d=n(2027),f=n(4462),h=n(6619),v=n(3142),p=(0,a.Z)(o,r,s,!1,null,null,null),m=p.exports;u()(p,{VDivider:l.Z,VList:d.Z,VListItem:f.Z,VListItemContent:h.km,VListItemTitle:h.V9,VNavigationDrawer:v.Z})},7412:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("video",{ref:"preview",staticStyle:{"max-width":"100%","max-height":"75%"}})},s=[],i=(n(1539),n(8783),n(3948),n(285),n(1637),n(3006)),o=n(3160);i.Z.WORKER_PATH=URL.createObjectURL(new Blob([o.Z]));var a={mounted:function(){var e=this;e.qrScanner=new i.Z(this.$refs.preview,(function(t){try{e.$emit("qr-code-scanned",t)}catch(n){e.$emit("qr-code-err",n)}}),(function(t){"No QR code found"!==t&&e.$emit("qr-code-err",t)})),e.qrScanner.start().catch((function(t){e.$emit("qr-code-err",t)}))},beforeDestroy:function(){this.qrScanner.stop(),this.qrScanner.destroy(),this.qrScanner=null}},c=a,u=n(1001),l=(0,u.Z)(c,r,s,!1,null,null,null),d=l.exports},5142:function(e,t,n){var r={"./asset-resolver.vue":2159,"./asset-selector.vue":2218,"./farmos-sync-icon.vue":8926,"./farmos-sync-tray.vue":2509,"./qr-code-scanner.vue":7412};function s(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=i,e.exports=s,s.id=5142}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,function(){var e=[];n.O=function(t,r,s,i){if(!r){var o=1/0;for(l=0;l<e.length;l++){r=e[l][0],s=e[l][1],i=e[l][2];for(var a=!0,c=0;c<r.length;c++)(!1&i||o>=i)&&Object.keys(n.O).every((function(e){return n.O[e](r[c])}))?r.splice(c--,1):(a=!1,i<o&&(o=i));if(a){e.splice(l--,1);var u=s();void 0!==u&&(t=u)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[r,s,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,s){if(1&s&&(r=this(r)),8&s)return r;if("object"===typeof r&&r){if(4&s&&r.__esModule)return r;if(16&s&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&s&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((function(e){o[e]=function(){return r[e]}}));return o["default"]=function(){return r},n.d(i,o),i}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+"-legacy.js"}}(),function(){n.miniCssF=function(e){return"css/"+e+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="alinkjs:";n.l=function(r,s,i,o){if(e[r])e[r].push(s);else{var a,c;if(void 0!==i)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var d=u[l];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){a=d;break}}a||(c=!0,a=document.createElement("script"),a.charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+i),a.src=r),e[r]=[s];var f=function(t,n){a.onerror=a.onload=null,clearTimeout(h);var s=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),s&&s.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=f.bind(null,a.onerror),a.onload=f.bind(null,a.onload),c&&document.head.appendChild(a)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){n.j=143}(),function(){n.p="/__THIS_GETS_REPLACED_AT_RUNTIME_BY_THE_DRUPAL_CONTROLLER__/"}(),function(){var e=function(e,t,n,r){var s=document.createElement("link");s.rel="stylesheet",s.type="text/css";var i=function(i){if(s.onerror=s.onload=null,"load"===i.type)n();else{var o=i&&("load"===i.type?"missing":i.type),a=i&&i.target&&i.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=o,c.request=a,s.parentNode.removeChild(s),r(c)}};return s.onerror=s.onload=i,s.href=t,document.head.appendChild(s),s},t=function(e,t){for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var s=n[r],i=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(i===e||i===t))return s}var o=document.getElementsByTagName("style");for(r=0;r<o.length;r++){s=o[r],i=s.getAttribute("data-href");if(i===e||i===t)return s}},r=function(r){return new Promise((function(s,i){var o=n.miniCssF(r),a=n.p+o;if(t(o,a))return s();e(r,a,s,i)}))},s={143:0};n.f.miniCss=function(e,t){var n={244:1,903:1,989:1};s[e]?t.push(s[e]):0!==s[e]&&n[e]&&t.push(s[e]=r(e).then((function(){s[e]=0}),(function(t){throw delete s[e],t})))}}(),function(){var e={143:0};n.f.j=function(t,r){var s=n.o(e,t)?e[t]:void 0;if(0!==s)if(s)r.push(s[2]);else{var i=new Promise((function(n,r){s=e[t]=[n,r]}));r.push(s[2]=i);var o=n.p+n.u(t),a=new Error,c=function(r){if(n.o(e,t)&&(s=e[t],0!==s&&(e[t]=void 0),s)){var i=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",a.name="ChunkLoadError",a.type=i,a.request=o,s[1](a)}};n.l(o,c,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,r){var s,i,o=r[0],a=r[1],c=r[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(s in a)n.o(a,s)&&(n.m[s]=a[s]);if(c)var l=c(n)}for(t&&t(r);u<o.length;u++)i=o[u],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(l)},r=self["webpackChunkalinkjs"]=self["webpackChunkalinkjs"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998,64],(function(){return n(1319)}));r=n.O(r)})();
//# sourceMappingURL=app-legacy.js.map