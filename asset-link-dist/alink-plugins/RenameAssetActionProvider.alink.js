export default class RenameAssetActionProvider{onLoad(t,e){const n=e.ui.c.VBtn;t.defineAction("net.symbioquine.farmos_asset_link.actions.v0.rename",(t=>{t.showIf((t=>"archived"!==t.attributes.status));const a=async t=>{const n=await e.ui.dialog.promptText(`What should "${t.attributes.name}" be renamed to?`);if(!n)return;const a=await e.getEntityModel(t.type);console.log(a);let o={name:n};if("undefined"!==typeof a.attributes.nickname){const e=t.attributes.nickname||[];o.nickname=[t.attributes.name,...e]}await e.entitySource.update((e=>e.updateRecord({type:t.type,id:t.id,attributes:o})),{label:`Rename asset: "${t.attributes.name}" to "${n}"`})};t.componentFn(((t,e,o)=>e(n,{props:{block:!0,color:"secondary"},on:{click:()=>a(o)},class:"text-none"},"Rename")))}))}}