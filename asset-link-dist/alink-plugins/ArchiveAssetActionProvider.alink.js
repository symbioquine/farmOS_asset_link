export default class ArchiveAssetActionProvider{onLoad(t,e){const a=e.ui.c.VBtn,i=e.util.formatRFC3339;t.defineAction("net.symbioquine.farmos_asset_link.actions.v0.archive",(t=>{t.showIf((t=>"archived"!==t.attributes.status));const n=async t=>{const a=await e.ui.dialog.confirm(`Are you sure you want to archive "${t.attributes.name}"?`);if(!a)return;await e.entitySource.update((e=>e.updateRecord({type:t.type,id:t.id,attributes:{status:"archived",archived:i(new Date)}})),{label:`Archive asset: ${t.attributes.name}`})};t.componentFn(((t,e,i)=>e(a,{props:{block:!0,color:"secondary"},on:{click:()=>n(i)},class:"text-none"},"Archive")))})),t.defineAction("net.symbioquine.farmos_asset_link.actions.v0.unarchive",(t=>{t.showIf((t=>"archived"===t.attributes.status));const i=async t=>{const a=await e.ui.dialog.confirm(`Are you sure you want to unarchive "${t.attributes.name}"?`);if(!a)return;await e.entitySource.update((e=>e.updateRecord({type:t.type,id:t.id,attributes:{status:"active",archived:null}})),{label:`Unarchive asset: ${t.attributes.name}`})};t.componentFn(((t,e,n)=>e(a,{props:{block:!0,color:"secondary"},on:{click:()=>i(n)},class:"text-none"},"Unarchive")))}))}}